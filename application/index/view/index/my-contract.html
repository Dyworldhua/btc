{include file="center/header" /}
<style>

</style>
<div class="layui-main content_box">
    <div class="box_left">
        {include file="center/menu" /}
    </div>
    <div class="box_right">
        <section>
            <table class="layui-table" lay-data="{ url:'/member/myContract', page:{fixed:'right'}, id:'idTest',response:{statusCode: 1},limits:[10,20],limit:20,id: 'testReload'}" lay-filter="membetTable">
                <thead>
                <tr>
                    <th lay-data="{field:'id', sort: true,width:80, align:'center'}">ID</th>
                    <th lay-data="{field:'contract_name', align:'center',templet:'#order_price'}">我的合约</th>
                    <th lay-data="{fixed: 'right', align:'center',width:120, toolbar: '#barDemo'}"></th>
                </tr>
                </thead>
            </table>
        </section>

    </div>

</div>
<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-xs" lay-event="detail">查看合约详情</a>
</script>
<script>
    layui.use('table', function(){
        var table = layui.table;
        var $ = layui.jquery;
        var layer = layui.layer;
        // 监听事件
        table.on('tool(membetTable)', function(obj){
            var data = obj.data;
            if(obj.event === 'detail'){
                layer.open({
                    title:'合约详情',
                    type:2,
                    area:['800px','700px'],
                    fixed:false,
                    maxmin:true,
                    content:'/member/Contract_detail'
                })
            }
        });
    });
</script>
<script>
    layui.use('element', function(){
        var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块
        //监听导航点击
        element.on('nav(demo)', function(elem){
            //console.log(elem)
            layer.msg(elem.text());
        });
    });
</script>
<div style="clear:both;"></div>
{include file="common/footer" /}


